import{c as G,g as te,r as i,R as ne}from"./index-DrNLWQdW.js";var J,Q;function re(){if(Q)return J;Q=1;var w="Expected a function",u=NaN,U="[object Symbol]",I=/^\s+|\s+$/g,V=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,k=/^0o[0-7]+$/i,E=parseInt,M=typeof G=="object"&&G&&G.Object===Object&&G,N=typeof self=="object"&&self&&self.Object===Object&&self,W=M||N||Function("return this")(),L=Object.prototype,A=L.toString,X=Math.max,F=Math.min,C=function(){return W.Date.now()};function z(n,r,o){var s,a,b,l,c,d,y=0,_=!1,T=!1,x=!0;if(typeof n!="function")throw new TypeError(w);r=R(r)||0,f(o)&&(_=!!o.leading,T="maxWait"in o,b=T?X(R(o.maxWait)||0,r):b,x="trailing"in o?!!o.trailing:x);function $(t){var h=s,B=a;return s=a=void 0,y=t,l=n.apply(B,h),l}function v(t){return y=t,c=setTimeout(p,r),_?$(t):l}function q(t){var h=t-d,B=t-y,K=r-h;return T?F(K,b-B):K}function S(t){var h=t-d,B=t-y;return d===void 0||h>=r||h<0||T&&B>=b}function p(){var t=C();if(S(t))return D(t);c=setTimeout(p,q(t))}function D(t){return c=void 0,x&&s?$(t):(s=a=void 0,l)}function O(){c!==void 0&&clearTimeout(c),y=0,s=d=a=c=void 0}function H(){return c===void 0?l:D(C())}function e(){var t=C(),h=S(t);if(s=arguments,a=this,d=t,h){if(c===void 0)return v(d);if(T)return c=setTimeout(p,r),$(d)}return c===void 0&&(c=setTimeout(p,r)),l}return e.cancel=O,e.flush=H,e}function j(n,r,o){var s=!0,a=!0;if(typeof n!="function")throw new TypeError(w);return f(o)&&(s="leading"in o?!!o.leading:s,a="trailing"in o?!!o.trailing:a),z(n,r,{leading:s,maxWait:r,trailing:a})}function f(n){var r=typeof n;return!!n&&(r=="object"||r=="function")}function g(n){return!!n&&typeof n=="object"}function P(n){return typeof n=="symbol"||g(n)&&A.call(n)==U}function R(n){if(typeof n=="number")return n;if(P(n))return u;if(f(n)){var r=typeof n.valueOf=="function"?n.valueOf():n;n=f(r)?r+"":r}if(typeof n!="string")return n===0?n:+n;n=n.replace(I,"");var o=m.test(n);return o||k.test(n)?E(n.slice(2),o?2:8):V.test(n)?u:+n}return J=j,J}var ie=re();const oe=te(ie),Y="animate__animated",Z=typeof window>"u";let ee;Z||(ee=window);const ce=({offset:w=150,duration:u=1,style:U,className:I,initiallyVisible:V=!1,animateIn:m,afterAnimatedIn:k,animateOut:E,delay:M=0,animatePreScroll:N=!0,afterAnimatedOut:W,scrollableParentSelector:L,animateOnce:A=!1,children:X})=>{const[F,C]=i.useState(Y),[z,j]=i.useState({animationDuration:`${u}s`,opacity:V?1:0}),f=i.useRef(null),g=i.useRef(!1),P=i.useRef({onScreen:!1,inViewport:!1}),R=i.useRef(void 0),n=i.useRef(void 0),r=i.useRef(ee),o=i.useCallback(e=>{let t=0;for(;e&&e.offsetTop!==void 0&&e.clientTop!==void 0;)t+=e.offsetTop+e.clientTop,e=e.offsetParent;return t},[]),s=i.useCallback(()=>r.current.pageYOffset!==void 0?r.current.pageYOffset:r.current.scrollTop,[r]),a=i.useCallback(()=>r.current.innerHeight!==void 0?r.current.innerHeight:r.current.clientHeight,[r]),b=i.useCallback(()=>s()+w,[w,s]),l=i.useCallback(()=>s()+a()-w,[w,s,a]),c=i.useCallback(e=>e>=b()&&e<=l(),[b,l]),d=i.useCallback(e=>e<b(),[b]),y=i.useCallback(e=>e>l(),[l]),_=i.useCallback((e,t)=>c(e)||c(t)||d(e)&&y(t),[c,d,y]),T=i.useCallback(e=>e<s(),[s]),x=i.useCallback(e=>e>s()+a(),[s,a]),$=i.useCallback((e,t)=>!T(t)&&!x(e),[T,x]),v=i.useCallback(()=>{const e=o(f.current)-o(r.current),t=e+f.current.clientHeight;return{inViewport:_(e,t),onScreen:$(e,t)}},[o,f,_,$,r]),q=i.useCallback((e,t)=>e.inViewport!==t.inViewport||e.onScreen!==t.onScreen,[]),S=i.useCallback((e,t)=>{R.current=setTimeout(()=>{g.current=!0,C(`${Y} ${e}`),j({animationDuration:`${u}s`}),n.current=setTimeout(t,u*1e3)},M)},[g,M,u]),p=i.useCallback(e=>{S(m,()=>{A||(j({animationDuration:`${u}s`,opacity:1}),g.current=!1);const t=v();e&&e(t)})},[g,m,A,u,S,v]),D=i.useCallback(e=>{S(E,()=>{C(Y),j({animationDuration:`${u}s`,opacity:0});const t=v();t.inViewport&&m?p(k):g.current=!1,e&&e(t)})},[g,S,m,u,k,p,E,v]),O=i.useCallback(()=>{if(!g.current){const{current:e}=P,t=v();q(e,t)&&(clearTimeout(R.current),t.onScreen?t.inViewport&&m?p(k):t.onScreen&&e.inViewport&&E&&f.current.style.opacity==="1"&&D(W):(C(Y),j({animationDuration:`${u}s`,opacity:V?1:0})),P.current=t)}},[k,W,m,p,E,u,V,q,D,v]),H=i.useMemo(()=>oe(()=>{O()},50),[O]);return i.useEffect(()=>{if(!Z){const e=L;return r.current=e?document.querySelector(e):window,r.current&&r.current.addEventListener?r.current.addEventListener("scroll",H):console.warn(`Cannot find element by locator: ${L}`),N&&O(),()=>{clearTimeout(R.current),clearTimeout(n.current),window&&window.removeEventListener&&window.removeEventListener("scroll",H)}}},[O,L,r,H,N]),ne.createElement("div",{ref:f,className:I?`${I} ${F}`:F,style:Object.assign({},z,U)},X)};export{ce as A};
