import{c as e,g as t,r as n,R as r}from"./index-DVKOZv5_.js";var i,o;const a=t(function(){if(o)return i;o=1;var t="Expected a function",n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof e&&e&&e.Object===Object&&e,s="object"==typeof self&&self&&self.Object===Object&&self,f=l||s||Function("return this")(),d=Object.prototype.toString,p=Math.max,m=Math.min,v=function(){return f.Date.now()};function b(e,n,r){var i,o,a,u,c,l,s=0,f=!1,d=!1,b=!0;if("function"!=typeof e)throw new TypeError(t);function g(t){var n=i,r=o;return i=o=void 0,s=t,u=e.apply(r,n)}function k(e){var t=e-l;return void 0===l||t>=n||t<0||d&&e-s>=a}function C(){var e=v();if(k(e))return T(e);c=setTimeout(C,function(e){var t=n-(e-l);return d?m(t,a-(e-s)):t}(e))}function T(e){return c=void 0,b&&i?g(e):(i=o=void 0,u)}function O(){var e=v(),t=k(e);if(i=arguments,o=this,l=e,t){if(void 0===c)return function(e){return s=e,c=setTimeout(C,n),f?g(e):u}(l);if(d)return c=setTimeout(C,n),g(l)}return void 0===c&&(c=setTimeout(C,n)),u}return n=w(n)||0,y(r)&&(f=!!r.leading,a=(d="maxWait"in r)?p(w(r.maxWait)||0,n):a,b="trailing"in r?!!r.trailing:b),O.cancel=function(){void 0!==c&&clearTimeout(c),s=0,i=l=o=c=void 0},O.flush=function(){return void 0===c?u:T(v())},O}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var i=a.test(e);return i||u.test(e)?c(e.slice(2),i?2:8):r.test(e)?NaN:+e}return i=function(e,n,r){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(t);return y(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),b(e,n,{leading:i,maxWait:n,trailing:o})}}()),u="animate__animated",c="undefined"==typeof window;let l;c||(l=window);const s=({offset:e=150,duration:t=1,style:i,className:o,initiallyVisible:s=!1,animateIn:f,afterAnimatedIn:d,animateOut:p,delay:m=0,animatePreScroll:v=!0,afterAnimatedOut:b,scrollableParentSelector:y,animateOnce:w=!1,children:g})=>{const[k,C]=n.useState(u),[T,O]=n.useState({animationDuration:`${t}s`,opacity:s?1:0}),S=n.useRef(null),$=n.useRef(!1),h=n.useRef({onScreen:!1,inViewport:!1}),j=n.useRef(void 0),E=n.useRef(void 0),x=n.useRef(l),V=n.useCallback((e=>{let t=0;for(;e&&void 0!==e.offsetTop&&void 0!==e.clientTop;)t+=e.offsetTop+e.clientTop,e=e.offsetParent;return t}),[]),R=n.useCallback((()=>void 0!==x.current.pageYOffset?x.current.pageYOffset:x.current.scrollTop),[x]),D=n.useCallback((()=>void 0!==x.current.innerHeight?x.current.innerHeight:x.current.clientHeight),[x]),N=n.useCallback((()=>R()+e),[e,R]),H=n.useCallback((()=>R()+D()-e),[e,R,D]),L=n.useCallback((e=>e>=N()&&e<=H()),[N,H]),A=n.useCallback((e=>e<N()),[N]),I=n.useCallback((e=>e>H()),[H]),M=n.useCallback(((e,t)=>L(e)||L(t)||A(e)&&I(t)),[L,A,I]),P=n.useCallback((e=>e<R()),[R]),W=n.useCallback((e=>e>R()+D()),[R,D]),Y=n.useCallback(((e,t)=>!P(t)&&!W(e)),[P,W]),_=n.useCallback((()=>{const e=V(S.current)-V(x.current),t=e+S.current.clientHeight;return{inViewport:M(e,t),onScreen:Y(e,t)}}),[V,S,M,Y,x]),q=n.useCallback(((e,t)=>e.inViewport!==t.inViewport||e.onScreen!==t.onScreen),[]),F=n.useCallback(((e,n)=>{j.current=setTimeout((()=>{$.current=!0,C(`${u} ${e}`),O({animationDuration:`${t}s`}),E.current=setTimeout(n,1e3*t)}),m)}),[$,m,t]),z=n.useCallback((e=>{F(f,(()=>{w||(O({animationDuration:`${t}s`,opacity:1}),$.current=!1);const n=_();e&&e(n)}))}),[$,f,w,t,F,_]),B=n.useCallback((e=>{F(p,(()=>{C(u),O({animationDuration:`${t}s`,opacity:0});const n=_();n.inViewport&&f?z(d):$.current=!1,e&&e(n)}))}),[$,F,f,t,d,z,p,_]),G=n.useCallback((()=>{if(!$.current){const{current:e}=h,n=_();q(e,n)&&(clearTimeout(j.current),n.onScreen?n.inViewport&&f?z(d):n.onScreen&&e.inViewport&&p&&"1"===S.current.style.opacity&&B(b):(C(u),O({animationDuration:`${t}s`,opacity:s?1:0})),h.current=n)}}),[d,b,f,z,p,t,s,q,B,_]),J=n.useMemo((()=>a((()=>{G()}),50)),[G]);return n.useEffect((()=>{if(!c){const e=y;return x.current=e?document.querySelector(e):window,x.current&&x.current.addEventListener&&x.current.addEventListener("scroll",J),v&&G(),()=>{clearTimeout(j.current),clearTimeout(E.current),window&&window.removeEventListener&&window.removeEventListener("scroll",J)}}}),[G,y,x,J,v]),r.createElement("div",{ref:S,className:o?`${o} ${k}`:k,style:Object.assign({},T,i)},g)};export{s as A};
